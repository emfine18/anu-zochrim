<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Anu Zochrim – October 7 Database</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- FAVICON -->
  <link rel="icon" href="logo.png" />

  <!-- LOAD NOTO SERIF -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif:wght@400;500;600&display=swap" rel="stylesheet">

  <!-- JQUERY + LIBS -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">

  <!-- ================= ANU ZOCHRIM STYLE ================= -->
  <style>
    body {
      margin: 0;
      background: #f8f7f4;
      font-family: "Noto Serif", serif;
      color: #1f2937;
    }

    /* HEADER */
    header {
      padding: 18px 24px;
      border-bottom: 1px solid #e5e7eb;
      background: #ffffff;
    }

    nav {
      max-width: 1200px;
      margin: auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .menu-links a {
      margin-left: 18px;
      text-decoration: none;
      color: #556b2f;
      font-weight: 500;
    }

    /* PAGE */
    .page {
      max-width: 1200px;
      margin: auto;
      padding: 28px 24px 60px;
    }

    h1 {
      font-size: 2.2rem;
      font-weight: 600;
      margin-bottom: 6px;
    }

    h2 {
      font-size: 1.1rem;
      color: #556b2f;
      font-weight: 400;
      margin-bottom: 28px;
    }

    /* FILTERS */
    #filters {
      background: #ffffff;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      padding: 20px;
      margin-bottom: 28px;
    }

    #filters input,
    #filters select {
      font-family: "Noto Serif", serif;
      padding: 10px 12px;
      border: 1px solid #cbd5e1;
      border-radius: 4px;
      margin-right: 8px;
    }

    #filters button {
      background: #556b2f;
      color: #ffffff;
      border: none;
      border-radius: 4px;
      padding: 10px 18px;
      cursor: pointer;
      font-family: "Noto Serif", serif;
    }

    #filters button:hover {
      background: #3f5222;
    }

    /* TABLE */
    .table-wrap {
      background: #ffffff;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      padding: 12px;
      overflow-x: auto;
    }

    table.dataTable {
      font-family: "Noto Serif", serif;
      font-size: 0.85rem;
    }

    table.dataTable thead th {
      background: #f3f4f1;
      color: #556b2f;
      font-weight: 600;
    }

    table.dataTable tbody tr:hover {
      background: #f6f7f3;
    }

    table.dataTable a {
      color: #556b2f;
      text-decoration: underline;
    }

    /* MAP */
    #map-container {
      margin-top: 32px;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      overflow: hidden;
    }

    /* FOOTER */
    footer {
      border-top: 1px solid #e5e7eb;
      padding: 30px 24px;
      background: #ffffff;
      text-align: center;
      font-size: 0.85rem;
      color: #4b5563;
    }
  </style>
</head>

<body>

<!-- ================= HEADER ================= -->
<header>
  <nav>
    <strong>Anu Zochrim</strong>
    <div class="menu-links">
      <a href="#">Home</a>
      <a href="#">Database</a>
      <a href="#">About</a>
      <a href="#">עברית</a>
    </div>
  </nav>
</header>

<!-- ================= PAGE ================= -->
<div class="page">
  <h1>October 7 Database</h1>
  <h2>Public memorial and documentation of those murdered, fallen, and kidnapped</h2>

  <div id="filters"></div>

  <div class="table-wrap">
    <table id="oct7table" class="display nowrap" style="width:100%">
      <thead></thead>
      <tbody></tbody>
    </table>
  </div>

  <div id="map-container" style="display:none;">
    <iframe id="map-iframe" width="100%" height="650" frameborder="0"></iframe>
  </div>
</div>

<!-- ================= FOOTER ================= -->
<footer>
  Anu Zochrim is a volunteer memorial project.  
  If you have information that can improve accuracy, please contact us.
</footer>

<!-- ================= SCRIPT ================= -->
<script>
Papa.parse("https://raw.githubusercontent.com/yuval-harpaz/alarms/refs/heads/master/data/oct7database.csv", {
  download: true,
  header: true,
  complete: function(results) {
    const data = results.data;
    const columns = Object.keys(data[0]).map(k => ({ title: k, data: k }));

    $("#oct7table thead").html(
      "<tr>" + columns.map(c => `<th>${c.title}</th>`).join("") + "</tr>"
    );

    data.forEach(row => {
      $("#oct7table tbody").append(
        "<tr>" + columns.map(c => `<td>${row[c.data] || ""}</td>`).join("") + "</tr>"
      );
    });

    const table = $("#oct7table").DataTable({
      paging: false,
      order: [],
      dom: "lrt"
    });

    $("#filters").html(`
      <input id="search" placeholder="Search names, places, roles…" />
      <button id="reset">Reset</button>
    `);

    $("#search").on("input", function() {
      table.search(this.value).draw();
    });

    $("#reset").on("click", function() {
      $("#search").val("");
      table.search("").draw();
    });
  }
});
</script>

</body>
</html>
